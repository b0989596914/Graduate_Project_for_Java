"@PostMapping(\"/uploadFile\")\r\npublic UploadFileResponse uploadFile(@RequestParam(\"file\") MultipartFile file) throws IOException {\r\n    // 沒有上傳\r\n    success_unzip = -1;\r\n    try {\r\n        FileUtils.deleteDirectory(new File(uploads_path));\r\n        Files.createDirectories(Path.of(zip_file_path));\r\n        //                Files.createDirectories(Path.of((json_file_path)));\r\n        //            Files.createDirectories(Path.of(json_file_path));\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    //        if (FileSystemUtils.deleteRecursively(Path.of(uploads_path))){\r\n    //            Files.createDirectories(Path.of(zip_file_path));\r\n    //            Files.createDirectories(Path.of(json_file_path));\r\n    //\r\n    //        }\r\n    // 儲存 zip 檔案\r\n    String fileName = fileStorageService.storeFile(file);\r\n    thisTimeFileToJson = unzip_file_path + \"/\" + fileName.substring(0, fileName.lastIndexOf(\".zip\")) + \"/\";\r\n    // 解壓缩 ZIP 文件\r\n    String zipFilePath = Paths.get(zip_file_path).toAbsolutePath() + \"\\\\\" + fileName;\r\n    String destDirectory = String.valueOf(Paths.get(unzip_file_path).toAbsolutePath());\r\n    try {\r\n        ZipUtils.unzip(zipFilePath, destDirectory);\r\n        // 解壓縮成功\r\n        success_unzip = 1;\r\n        System.out.println(\"ZIP and UNZIP file extracted successfully.\");\r\n    } catch (IOException e) {\r\n        // 解壓縮失敗\r\n        success_unzip = 0;\r\n        System.err.println(\"Error extracting ZIP file: \" + e.getMessage());\r\n    }\r\n    // Web MVC 框架的 URI builder\r\n    String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath().path(\"/downloadFile/\").path(fileName).toUriString();\r\n    return new UploadFileResponse(fileName, fileDownloadUri, file.getContentType(), file.getSize());\r\n}"